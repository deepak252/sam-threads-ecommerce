<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Sam Threads | Products</title>

        <link rel="stylesheet" href="css/global.css" />
        <link rel="stylesheet" href="css/index.css" />
        <link rel="stylesheet" href="css/products.css" />
    </head>
    <body>
        <header class="navbar">
            <img id="navbar__logo" class="company__logo" src="images/logo.png" alt="logo" />
            <div class="navbar__content">
                <ul class="navbar__options">
                    <li><a href="/">Home</a></li>
                    <li><a href="/products.html">Products</a></li>
                    <li><a href="/contact-us.html">Contact Us</a></li>
                </ul>
                <form id="product_search_form">
                    <div class="textfield" >
                        <input
                            id="search__input"
                            class="textfield__input"
                            type="text"
                            placeholder="Search for product"
                        />
                        <button type="submit" id="btn_search_product">
                            <img
                                class="textfield__icon"
                                src="images/search.png"
                                alt="search"
                            />
                        </button>
                    </div>
                </form>
                <a href="/cart.html">
                    <img
                        id="btn__nav__cart"
                        class="size-30"
                        src="images/cart.png"
                        alt="cart"
                    />
                </a>
                <div id="userprofile__nav">
                    <img
                        id="btn__profile__nav"
                        class="size-30"
                        src="images/profile.png"
                        alt="profile"
                    />
                    <label id="username__nav">User</label>
                </div>
                <a id="btn__signin__nav" class="btn--primary" href="sign-in.html"
                    >Sign In</a
                >
                <btn
                    id="btn__signout__nav"
                    class="btn--primary"
                    onclick="handleSignOut()"
                    >Sign Out</btn
                >
            </div>
        </header>
        <section class="flex-center">
            <div class="content">
                <div id="products__container">
                    
                    <div id="product_category">
                        <h3 id="product_category__label">Featured</h3>
                        <select id="product_category__dropdown" name="filter">
                            <option value= "" >All</option>
                            <option value="Summer">Summer Products</option>
                            <option value="Winter">Winter Products</option>
                            <option value="Autumn">Autumn Products</option>
                            <option value="Spring">Spring Products</option>
                        </select>
                    </div>
                    <div id="product_list__container">
                        <!-- Add Products Dynamically -->
                    </div>
                </div>
            </div>
        </section>

        <footer class="flex-center">
            <div class="footer__container">
                <div class="footer__row">
                    <div class="footer__col" id="footer__col1">
                        <img
                            class="company__logo"
                            src="images/logo.png"
                            alt="logo"
                        />
                    </div>
                    <div class="footer__col" id="footer__col2">
                        <a href="/products.html?filter=summer">Summer Products</a>
                        <a href="/products.html?filter=winter">Winter Products</a>
                        <a href="/products.html?filter=autumn">Autumn Products</a>
                        <a href="/products.html?filter=spring">Spring Products</a>
                    </div>
                    <div class="footer__col" id="footer__col3">
                        <a>About Us</a>
                        <a href="contact-us.html" target="_blank">Contact Us</a>
                    </div>
                </div>
                <hr />
                <div class="flex-center footer__social_handles">
                    <a href="https://facebook.com" target="_blank"><img src="images/social/facebook.png" alt="facebook" /></a>
                    <a href="https://twitter.com" target="_blank"><img src="images/social/twitter.png" alt="twitter" /></a>
                    <a href="https://instagram.com" target="_blank"><img src="images/social/instagram.png" alt="instagram" /></a>
                    <a href="https://pinterest.com" target="_blank"><img src="images/social/pinterest.png" alt="pinterest" /></a>
                </div>
                <p id="copyright">
                    Copyright &#169; 2023 Sam Threads | All rights reserved.
                </p>
            </div>
        </footer>
        <script src="js/product_helper.js"></script>
        <script src="js/index.js"></script>
        <script src="js/auth.js"></script>
        <script>
            document.addEventListener("DOMContentLoaded", () => {
                checkSignedIn();
                // Product Category Filter
                handleCategoryFilter();
                handleSelectNavOption();
                handleProductSearch();

                const urlParams = new URLSearchParams(location.search);
                const searchQuery = urlParams.get("query");
                loadProductsToDom({query: searchQuery});
                
            });
        </script>
    </body>
    
</html>
